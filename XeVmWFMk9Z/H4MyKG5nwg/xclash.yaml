port: 7890
socks-port: 7891
allow-lan: true
bind-address: "*"
mode: rule
log-level: silent
ipv6: false
external-controller: 127.0.0.1:9090
dns:
  enable: true
  ipv6: false
  #listen: 0.0.0.0:53
  enhanced-mode: fake-ip # æˆ– fake-ip redir-host
  fake-ip-range: 198.168.0.1/16
  fake-ip-filter:
    - '*.msftncsi.com'
    - 'www.msftconnecttest.com'
    - '*localhost*'
    - '*.cn'
  nameserver:
    - https://223.5.5.5/dns-query
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  fallback:
    - tls://8.8.8.8:853
    - tls://1.1.1.1:853
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query
  fallback-filter:
    geoip: true
    ipcidr:
      - 10.0.0.0/8
      - 127.0.0.0/8
      - 169.254.0.0/16
      - 172.16.0.0/12
      - 192.0.0.0/8
      - 198.19.0.0/16
      - 198.51.100.0/24
      - 203.0.113.0/24
      - 224.0.0.0/3
proxies:
  - name: Trojan JP
    type: trojan
    server: t.firebirdx.com
    port: 443
    password: 62be4743
    alpn:
      - h2
      - http/1.1
proxy-providers:
  jetstream:
     type: http
     url: "https://jetstream.site/api/v1/public/services/41618/55d7412e848eedfb93100a9c56f570f8?client=clash"
     interval: 3600
     path: ./Proxy/jetstreamfeed.yaml
     health-check:
       enable: true
       interval: 800
       url: http://www.gstatic.com/generate_204
 # xpro:
 #    type: http
 #    url: "https://raw.githubusercontent.com/niaolianyu/DRYhMhdzos/main/XeVmWFMk9Z/H4MyKG5nwg/xpro.yaml"
  #   interval: 3600
  #   path: ./Proxy/xpro.yaml
  #   health-check:
  #     enable: false
  #     interval: 800
  #     url: http://www.gstatic.com/generate_204 
proxy-groups:
  - name: å›½å¤–èµ°å‘
    type: select
    proxies:
      - ğŸ”° ç¯€é»é¸æ“‡
      - è‡ªæœ‰
      - DIRECT
  - name: å›½å†…èµ°å‘
    type: select
    proxies:
      - DIRECT
      - è‡ªæœ‰
      - ğŸ”° ç¯€é»é¸æ“‡
  - name: ğŸ”° ç¯€é»é¸æ“‡
    type: select
    proxies:
      - AutoUrl-test
      - Load-balance
      - FallBack
      - è‡ªæœ‰
    use:
     # - xpro
     # - jetstream
  - name: AutoUrl-test
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 600
    proxies:
      # - è‡ªæœ‰
    use:
      #- xpro
      - jetstream
  - name: Load-balance
    type: load-balance
    url: http://www.gstatic.com/generate_204
    interval: 600
    proxies:
      # - è‡ªæœ‰
    use:
     # - xpro
      - jetstream
  - name: FallBack
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 600
    proxies:
      # - è‡ªæœ‰
    use:
     # - xpro
      - jetstream
  - name: è‡ªæœ‰
    type: select
    proxies:
      # - Trojan JP
    use:
      - jetstream
     # - xpro
rule-providers:
 # xprodomain:
  #  type: http
 #   behavior: classical
  #  path: ./RuleSet/Extra/xprodomain.yaml
  #  url: https://raw.githubusercontent.com/niaolianyu/DRYhMhdzos/main/XeVmWFMk9Z/H4MyKG5nwg/xprodomain.yaml
  #  interval: 86400
  Global:
    type: http
    behavior: classical
    path: ./RuleSet/Global.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400
  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400
  ChinaIP:
    type: http
    behavior: ipcidr
    path: ./RuleSet/Extra/ChinaIP.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
    interval: 86400
rules:
  # Tencent
  #- IP-CIDR,119.28.28.28/32,å›½å†…èµ°å‘
  #- IP-CIDR,182.254.116.0/24,å›½å†…èµ°å‘
  #- RULE-SET,Unbreak,å›½å†…èµ°å‘
  #- RULE-SET,China,å›½å†…èµ°å‘
  - GEOIP,CN,å›½å†…èµ°å‘
  #- RULE-SET,xprodomain,è‡ªæœ‰
  
  #- DOMAIN-KEYWORD,accounts,è‡ªæœ‰
  #- DOMAIN-KEYWORD,auth,è‡ªæœ‰
  #- DOMAIN-KEYWORD,gmail,è‡ªæœ‰
  #- DOMAIN-KEYWORD,mail,è‡ªæœ‰
  #- DOMAIN-KEYWORD,login,è‡ªæœ‰
  #- DOMAIN-KEYWORD,sign,è‡ªæœ‰
  #- DOMAIN-SUFFIX,xclash,è‡ªæœ‰
  #- RULE-SET,Global,å›½å¤–èµ°å‘
  
  # æŠ— DNS æ±¡æŸ“ 
  #- DOMAIN-KEYWORD,amazon,è‡ªæœ‰
  #- DOMAIN-KEYWORD,google,è‡ªæœ‰
  #- DOMAIN-SUFFIX,githubusercontent.com,è‡ªæœ‰
  #- DOMAIN-SUFFIX,github.com,è‡ªæœ‰
  #- DOMAIN-KEYWORD,youtube,å›½å¤–èµ°å‘
  #- DOMAIN-KEYWORD,facebook,è‡ªæœ‰
  #- DOMAIN-SUFFIX,fb.me,è‡ªæœ‰
  #- DOMAIN-SUFFIX,fbcdn.net,è‡ªæœ‰
  #- DOMAIN-KEYWORD,twitter,å›½å¤–èµ°å‘
  #- DOMAIN-KEYWORD,instagram,å›½å¤–èµ°å‘
  #- DOMAIN-KEYWORD,dropbox,å›½å¤–èµ°å‘
  #- DOMAIN-SUFFIX,twimg.com,å›½å¤–èµ°å‘
  #- DOMAIN-KEYWORD,blogspot,å›½å¤–èµ°å‘
  #- DOMAIN-SUFFIX,youtu.be,å›½å¤–èµ°å‘
  #- DOMAIN-KEYWORD,whatsapp,å›½å¤–èµ°å‘

  # å¸¸è§å¹¿å‘ŠåŸŸåå±è”½
  #- DOMAIN-KEYWORD,admarvel,REJECT
  #- DOMAIN-KEYWORD,admaster,REJECT
  #- DOMAIN-KEYWORD,adsage,REJECT
  #- DOMAIN-KEYWORD,adsmogo,REJECT
  #- DOMAIN-KEYWORD,adsrvmedia,REJECT
  #- DOMAIN-KEYWORD,adwords,REJECT
  #- DOMAIN-KEYWORD,adservice,REJECT
  #- DOMAIN-KEYWORD,domob,REJECT
  #- DOMAIN-KEYWORD,duomeng,REJECT
  #- DOMAIN-KEYWORD,dwtrack,REJECT
  #- DOMAIN-KEYWORD,guanggao,REJECT
  #- DOMAIN-KEYWORD,lianmeng,REJECT
  #- DOMAIN-SUFFIX,mmstat.com,REJECT
  #- DOMAIN-KEYWORD,omgmta,REJECT
  #- DOMAIN-KEYWORD,openx,REJECT
  #- DOMAIN-KEYWORD,partnerad,REJECT
  #- DOMAIN-KEYWORD,pingfore,REJECT
  #- DOMAIN-KEYWORD,supersonicads,REJECT
  #- DOMAIN-KEYWORD,uedas,REJECT
  #- DOMAIN-KEYWORD,umeng,REJECT
  #- DOMAIN-KEYWORD,usage,REJECT
  #- DOMAIN-KEYWORD,wlmonitor,REJECT
  #- DOMAIN-KEYWORD,zjtoolbar,REJECT

  # LAN
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  # (Streaming Media)
  #- RULE-SET,Streaming,Streaming

  # (StreamingSE)
  #- RULE-SET,StreamingSE,StreamingSE
  # è§„åˆ™
  #- RULE-SET,Unbreak,DIRECT
  #- RULE-SET,Global,å›½å¤–èµ°å‘
  #ä½¿ç”¨è¿™é‡Œip å¯ä»¥å…³é—­ä¸‹åˆ—geoip cn
  #- RULE-SET,China,DIRECT
  #- RULE-SET,ChinaIP,å›½å†…èµ°å‘
  
  # æœ€ç»ˆè§„åˆ™
  - MATCH,å›½å¤–èµ°å‘
